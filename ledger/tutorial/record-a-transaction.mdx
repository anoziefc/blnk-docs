---
title: Record a transaction
description:
---
### Overview

This guide shows you how to record a transaction into your Blnk Ledger. 

There are 3 main ways a transaction can be categorized:

1. Money is received from an external balance (accounts, cards, crypto, etc.)
2. Money is sent out to an external balance (accounts, wallets, etc.)
3. Money is sent between balances in your application.

<Tip>
	An external source refers to a source or destination that isn't owned by your application. This includes other bank accounts, card payment providers, payout providers, etc.
</Tip>

To successfully post or record a transaction, the following fields are required:

- `amount`: The transaction amount **(float).** **See also → [Balance precision](/ledger/tutorial/precision)**
- `reference`: A unique string for referencing the transaction later **(string).** 
- `currency`: Short code for your asset class **(string)**. It can be currency, crypto or custom to your app or software.
- `source`: Sender's balance ID **(string)**.
- `destination`: Recipient's balance ID **(string)**.
- `description`: Description or narration of the transaction **(string).** This is optional.

>There are multiple ways to manage `Source` and `Destination` for transactions that involve an external balance.
>
>However, it is best to create a dedicated balance, `@World`, to represent external balance, i.e., when receiving money from an external balance, it is `"source": "@World"` and when sending money to an external balance, it is "`destination: "@World"`. 
>
>Go to [Internal ledgers](/ledger/guide/internal-ledgers) for more information on how to use and manage `@World`.


### How Blnk records transactions

Blnk cares about the accuracy, security and integrity of your transaction data. As a result, all transaction records have 2 main properties — immutability and idempotency.

<AccordionGroup>
	<Accordion title="Immutability" icon="shield-halved">
		All transactions in Blnk are immutable.
		
		Once they have been recorded, they cannot be altered or tampered with. This ensures the accuracy and unchangeability of the transaction record. **See also → [Transaction Hashing](data/hash).**
	</Accordion>
	<Accordion title="Idempotency" icon ="code">
		All transactions in Blnk are idempotent.
		
		This ensures that performing the same operation multiple times results in the same outcome as doing it once. This property is crucial for maintaining consistent outcomes regardless of how many times a transaction is repeated, especially in scenarios where network errors or other issues might cause transaction failures.
		
		Blnk ensures idempotency through the use of a unique `reference` for every transaction. This is why it is required for you to provide one when recording a transaction. 
	</Accordion>
</AccordionGroup>

### Record a transaction

Send a request to the [record-transaction](/misc/record-transaction) endpoint and input the required fields. 

```json request
{
    "amount": 750000,
    "reference": "ref_001adcfgf",
    "currency": "NGN",
    "source": "bln_28edb3e5-c168-4127-a1c4-16274e7a28d3",
    "destination": "bln_ebcd230f-6265-4d4a-a4ca-45974c47f746",
    "description": "For fees"
}
```

Passing detailed data with the `meta_data` object is encouraged; it provides you with 360-degree insights about each transaction record. Examples of data you can pass include `sender_name`, `account_number`, `bank_name`, `receiver_name`, `payment_id`, `ip_address`, `location`, `payment_method`, etc.

<CardGroup>
	<Card title="Setting up metadata" icon="book-open-cover" href="/ledger/tutorial/metadata">
		Applying metadata in your transactions
	</Card>
</CardGroup>

```json response
{
    "id": "txn_6164573b-6cc8-45a4-ad2e-7b4ba6a60f7d",
    "source": "bln_28edb3e5-c168-4127-a1c4-16274e7a28d3",
    "destination": "bln_ebcd230f-6265-4d4a-a4ca-45974c47f746",
    "reference": "ref_001adcfgf",
    "amount": 10000000,
    "currency": "NGN",
    "description": "For fees",
    "status": "QUEUED",
    "created_at": "2024-02-28T20:31:01.776677+01:00",
    "risk_tolerance_threshold": 0,
    "risk_score": 0
}
```

- `id`: Unique id for the transaction **(string)**. This is generated by Blnk.
- `currency`: Short code for your asset class **(string)**. **See also → [Defining asset classes](ledger/guide/asset-classes).**
- `description`:  Narration of the transaction **(string)**.
- `status`: Current state of your transaction record **(string)**. [See below.](#transaction-statuses)
- `created_at`: Date and time of the transaction record **(string).**
- `scheduled_for`: Scheduled date and time for processing **(string)**. **See also →** [Scheduling transactions](/ledger/tutorial/scheduling-transactions).

### Transaction statuses

There are three primary statuses for any transaction in the Blnk Ledger.

- `QUEUED`: This is the default status of any new transaction record. It means your transaction record has been accepted by Blnk, added to a queue and is waiting to be applied. 
  
  **See also →** [Why Blnk queues transactions](/ledger/guide/queuing-transactions).

- `APPLIED`: The status is updated to applied when the participating balances in the transaction have been updated with the transaction amount. Only transaction records with the `APPLIED` status are deemed complete and permanently stored in the Blnk Ledger.
  
  >**E.g.,** if ₦1,000 was sent from `bal_01` to `bal_02`; 
  >- the default transaction status is `QUEUED`; 
  >- the status changes to `APPLIED` when ₦1,000 has been deducted from `bal_01` and added to `bal_02`.

- `REJECTED`: The status of a transaction is updated to rejected when one of the following happens;
	- Insufficient balance in the `source`.
	- Mismatch in asset class (`currency`) during a transaction between `source` and `destination`.

<Note>
	Blnk focuses on helping you efficiently keep the records of how money moves in your application. Whether a transaction is successfully processed or not is managed by you and your payment partners.
	
	**Recommended →** [How to use Blnk with payment partners](ledger/guide/payment-partners)
</Note>

### Recommended

<CardGroup>
	<Card title="How internal ledgers work" icon="book-open-cover" href="/ledger/guide/internal-ledgers">
        Learn more about `@World`
    </Card>
    <Card title="Set up your balance precision" icon="book-open-cover" href="/ledger/tutorial/precision">
        Optimize your balances with precision
    </Card>
	<Card title="Handling concurrency" icon="book-open-cover" href="/ledger/tutorial/queuing-transactions">
    </Card>
    <Card title="Managing notifications" icon="book-open-cover" href="/ledger/guide/notifications">
    </Card>
</CardGroup>

### Need help?

Are you stuck? Do you have a question that isn't answered in this doc? Have you run into a problem you can't solve? Want to file a bug report?

[Join our Slack community](https://join.slack.com/t/blnk-ledger/shared_invite/zt-2fwdivkvm-zHW4F8lwtVsbIaPg~dyx9w) and share your questions/thoughts with other developers building financial applications like you.
