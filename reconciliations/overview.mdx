---
title: "Get started with Reconciliations"
sidebarTitle: "Overview"
description: "Learn how to automate reconciliation and scale your financial operations workflows."
icon: "copy"
---

import NeedHelp from "/snippets/need-help.mdx";

Reconciliation is a vital component of financial operations, essential for maintaining precise and reliable financial records. This process involves comparing and matching internal records (your ledger) with external statements (such as payment processor reports and bank statements) to identify and rectify any discrepancies.

For fintech companies, which often handle high transaction volumes, diverse payment methods, and complex financial products, the importance of effective accounts reconciliation cannot be overstated. The primary goal of reconciliation is to ensure that all records accurately represent the company’s financial position at all times.

Regular, meticulous, and effective reconciliation enhances operational efficiency, financial transparency, and stakeholder trust. This includes banking partners, customers, investors, and regulatory bodies, all of whom rely on the accuracy of your financial reporting.

In this guide, you'll learn how to perform reconciliation in 5 steps. 

Let's dive in ✨

1. [External data preparation](#1-external-data-preparation): Import external data from payment processor reports and bank statements, and prepare them for reconciliation.
2. [Matching rules](#2-matching-rules): Define how transactions should be compared and matched.
3. [Reconciliation strategies](#3-reconciliation-strategies): Choose what type of reconciliation strategy you want to apply.
4. [Grouping criteria](#4-grouping-criteria): Choose how transactions should be grouped for more complex reconciliation workflows.
5. [Run reconciliation](#5-run-reconciliation): Initiate a reconciliation.

## 1. External data preparation

Your external data is any document that holds the records of all transaction activity outside of your system. Learn more: [External Data Preparation](external-data).

First, ensure that your data includes these six fields:

| Field | Type | Description |
| :--- | :--- | :--- |
| `amount` | Float | The transaction amount, e.g. 100.50 |
| `currency` | String | ISO 4217 currency code, e.g. "USD" |
| `source` | String | Origin of the transaction data, e.g. "Stripe" |
| `description` | String | Transaction details or narration, e.g., "Monthly subscription" |
| `reference` | String | Unique identifier of the transaction, e.g., "ref_128GA6Ag1298ahkj" |
| `date` | ISO 8601 | Transaction date and time, e.g., "2023-04-15T14:30:00Z" |

Next, upload with the following endpoint:

```curl Request
curl --location '<https://BLNK_API_URL/v1/reconciliation/upload>' \\
--header 'Authorization: Bearer YOUR_API_KEY' \\
--form 'file=@"transactions.json"' \\
--form 'source="Stripe"'
```

```json Response
{
  "upload_id": "upload_8c700d1b-09c0-4ef4-9ab1-a0decf3d0aa3",
  "status": "success",
  "record_count": 1000,
  "source": "Stripe"
}
```

## 2. Matching rules

Blnk uses matching rules to understand how you want to compare and reconcile your records. This is the most central aspect of the reconciliation process. 

To set a rule, you need to give it a name, description, and define its criteria. To learn more about matching rules: [Matching Rules](matching-rules).

### Supported attributes and operators

Matching rules require specific attributes (or fields) from your [external data](external-data), using various operators to compare these attributes. 

| Attributes | Supported operators | Description |
| :--- | :--- | :--- |
| `amount` | `equals`, `greater_than`, `less_than` | The transaction amount, e.g. 100.50 |
| `currency` | `equals` | ISO 4217 currency code, e.g. "USD" |
| `reference` | `equals` | Unique identifier of the transaction, e.g., "ref_128GA6Ag1298ahkj" |
| `description` | `equals`, `contains` | Transaction details or narration, e.g., "Monthly subscription" |
| `date` | `equals`, `greater_than`, `less_than` | Transaction date and time, e.g., "2023-04-15T14:30:00Z" |

### Handling discrepancies with drifts

1. **Amount Drift:** Allows for minor differences in transaction amounts. For example, a percentage drift value of 0.01 permits a 1% difference in the transaction amounts, accommodating small variations.

2. **Date Drift:** Allows for minor differences in transaction dates. For example, a time drift value of 3600 seconds permits a 1-hour difference in transaction dates, accommodating minor timing discrepancies.

### Creating a matching rule

To create a matching rule, call the following endpoint:

```
POST https://BLNK_API_URL/reconciliation/matching-rules
```

```json Request
{
  "name": "Stripe Subscription Matcher",
  "description": "Matches Stripe subscription payments with internal records",
  "criteria": [
    {
      "field": "amount",
      "operator": "equals",
      "allowable_drift": 0.001
    },
    {
      "field": "date",
      "operator": "equals",
      "allowable_drift": 86400
    },
    {
      "field": "description",
      "operator": "contains",
      "value": "subscription"
    },
    {
      "field": "currency",
      "operator": "equals"
    },
    {
      "field": "reference",
      "operator": "contains",
      "value": "stripe_"
    }
  ]
}
```

This rule allows for a 0.1% difference in amount, a 24-hour date difference, checks for "subscription" in the description, and ensures the reference contains "stripe_".

## 3. Reconciliation strategies

Choose the strategy that best fits your financial flows:

1. **One-to-One**: For simple, direct matches between systems.
2. **One-to-Many**: When one external transaction represents multiple internal transactions (e.g., batch payments).
3. **Many-to-One**: When multiple external transactions make up one internal transaction (e.g., installment payments).

## 4. Grouping criteria

## 5. Run reconciliation

<NeedHelp />